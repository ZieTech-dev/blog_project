{% extends 'blog/base.html' %}

{% comment %} {% extends 'blog/base.html' %}
{% block content %}
    <h1>Profil</h1>
    <ul class="nav nav-tabs mb-4">
        <li class="nav-item">
            <a class="nav-link {% if tab == 'articles' %}active{% endif %}" href="?tab=articles">Mes articles</a>
        </li>
        <li class="nav-item">
            <a class="nav-link {% if tab == 'likes' %}active{% endif %}" href="?tab=likes">Articles likés</a>
        </li>
        <li class="nav-item">
            <a class="nav-link {% if tab == 'notifications' %}active{% endif %}" href="?tab=notifications">Notifications</a>
        </li>
    </ul>
    <div class="row">
        {% for article in articles %}
            <div class="col-md-4 mb-4">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">{{ article.title }}</h5>
                        <a href="{% url 'article_detail' article.id %}" class="btn btn-primary">Voir</a>
                    </div>
                </div>
            </div>
        {% empty %}
            <p>Aucun article.</p>
        {% endfor %}
    </div>

    <h3>Favoris</h3>
    <div class="row">
        {% for favorite in favorites %}
            <div class="col-md-4 mb-4">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">{{ favorite.article.title }}</h5>
                        <a href="{% url 'article_detail' favorite.article.id %}" class="btn btn-primary">Voir</a>
                    </div>
                </div>
            </div>
        {% empty %}
            <p>Aucun favori.</p>
        {% endfor %}
    </div>


    {% if tab == 'notifications' %}
        <h3>Notifications</h3>
        {% for notification in notifications %}
            <div class="alert alert-{% if notification.is_read %}secondary{% else %}info{% endif %}">
                {{ notification.message }} - {{ notification.created_at }}
            </div>
        {% empty %}
            <p>Aucune notification.</p>
        {% endfor %}
    {% endif %}
{% endblock %} {% endcomment %}


{% comment %} 
{% block content %}
    <h1>Profil</h1>
    <ul class="nav nav-tabs mb-4">
        <li class="nav-item">
            <a class="nav-link {% if tab == 'articles' %}active{% endif %}" href="?tab=articles">Mes articles</a>
        </li>
        <li class="nav-item">
            <a class="nav-link {% if tab == 'likes' %}active{% endif %}" href="?tab=likes">Articles likés</a>
        </li>
        <li class="nav-item">
            <a class="nav-link {% if tab == 'notifications' %}active{% endif %}" href="?tab=notifications">Notifications</a>
        </li>
    </ul>

    {% if tab != 'notifications' %}
        <div class="row">
            {% for article in articles %}
                <div class="col-md-4 mb-4">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">{{ article.title }}</h5>
                            <a href="{% url 'article_detail' article.id %}" class="btn btn-primary">Voir</a>
                        </div>
                    </div>
                </div>
            {% empty %}
                <p>Aucun article.</p>
            {% endfor %}
        </div>

        <h3>Favoris</h3>
        <div class="row">
            {% for favorite in favorites %}
                <div class="col-md-4 mb-4">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">{{ favorite.article.title }}</h5>
                            <a href="{% url 'article_detail' favorite.article.id %}" class="btn btn-primary">Voir</a>
                        </div>
                    </div>
                </div>
            {% empty %}
                <p>Aucun favori.</p>
            {% endfor %}
        </div>
    {% endif %}

    {% if tab == 'notifications' %}
        <h3>Notifications</h3>
        {% for notification in notifications %}
            <div class="alert alert-{% if notification.is_read %}secondary{% else %}info{% endif %}">
                {{ notification.message }} - {{ notification.created_at }}
            </div>
        {% empty %}
            <p>Aucune notification.</p>
        {% endfor %}
    {% endif %}
{% endblock %} {% endcomment %}


{% block content %}
    <h1>Profil</h1>
    <ul class="nav nav-tabs mb-4">
        <li class="nav-item">
            <a class="nav-link {% if tab == 'articles' %}active{% endif %}" href="?tab=articles">Mes articles</a>
        </li>
        <li class="nav-item">
            <a class="nav-link {% if tab == 'likes' %}active{% endif %}" href="?tab=likes">Articles likés</a>
        </li>
        <li class="nav-item">
            <a class="nav-link {% if tab == 'notifications' %}active{% endif %}" href="?tab=notifications">Notifications</a>
        </li>
    </ul>

    {% if tab != 'notifications' %}
        <div class="row">
            {% for article in articles %}
                <div class="col-md-4 mb-4">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">{{ article.title }}</h5>
                            <a href="{% url 'article_detail' article.id %}" class="btn btn-primary">Voir</a>
                        </div>
                    </div>
                </div>
            {% empty %}
                <p>Aucun article.</p>
            {% endfor %}
        </div>

        <h3>Favoris</h3>
        <div class="row">
            {% for favorite in favorites %}
                <div class="col-md-4 mb-4">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">{{ favorite.article.title }}</h5>
                            <a href="{% url 'article_detail' favorite.article.id %}" class="btn btn-primary">Voir</a>
                        </div>
                    </div>
                </div>
            {% empty %}
                <p>Aucun favori.</p>
            {% endfor %}
        </div>
    {% endif %}

    {% if tab == 'notifications' %}
        <h3>Notifications</h3>
        {% for notification in notifications %}
            <div class="alert alert-{% if notification.is_read %}secondary{% else %}info{% endif %}">
                {{ notification.message }} - {{ notification.created_at }}
            </div>
        {% empty %}
            <p>Aucune notification.</p>
        {% endfor %}
    {% endif %}
{% endblock %}

